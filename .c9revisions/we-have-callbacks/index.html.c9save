{"ts":1351130979561,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!doctype html>\n<html lang=\"en\">\n<head>\n<title>we have callbacks</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n<meta name=\"author\" content=\"Theo Armour\">\n</head>\n<body>\n<img border=\"0\" height=\"320\" src=\"http://1.bp.blogspot.com/-N3gWY-XID30/UH3Br0HJ_zI/AAAAAAAAFe8/lWDdDiaQHRY/s320/cynthia-draw-lightning.jpg\" width=\"320\" />\n<script src=\"http://jaanga.github.com/three.js/build/three.min.js\"></script>\n<script src=\"http://jaanga.github.com/three.js/examples/js/controls/TrackballControls.js\"></script>\n<script src='http://jaanga.github.com/three.js/examples/js/libs/stats.min.js'></script>\n<script>\n// the above scripts and these vars are in the Blogger template\n\tvar renderer, scene, camera, controls, stats,\n\t\tlight, geometry, material, mesh, clock = new THREE.Clock(), renderers = [];\n\n//\tthe animate source ccode, as below, is in the Blogger Creative Commons widget - for easy acces\n\tfunction animate() {\n\t\trequestAnimationFrame( animate );\n\t\tvar tim = clock.getElapsedTime() * 0.15;\n\t\tfor ( var i = 0, l = renderers.length; i < l; i++ ) {\n\t\t\tvar r = renderers[i];\n\t\t\tr.renderer.render( r.scene, r.camera );\n\t\t\tif (r.stats) { r.stats.update(); }\n\t\t\tif (r.callback) { \n\t\t\t\tr.callback(); \n\t\t\t} else {\n\t\t\t\tr.camera.position.x = 20 * Math.cos( tim );\n\t\t\t\tr.camera.position.y = 20 * Math.cos( tim );\n\t\t\t\tr.camera.position.z = 20 * Math.sin( tim );\n\t\t\t}\n\t\t\tr.controls.update();\n\t\t}\n\t}  \n\tanimate();\n</script>\n<script type='text/javascript'>\n\tinit();\n\n\tfunction init() {\n\t\tvar meshes,\n\t\t// d = document.getElementById('post-body-7520199647430558687');\n\t\td = document.body;\n\t\td.style.textAlign = 'center';\n\t\td.style.width = '640px';\n\t\t\n\t\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\t\trenderer.setSize( 640, 320 );\n\t\trenderer.domElement.style.backgroundColor = 'transparent';\n\t\trenderer.domElement.style.border = '5px solid black';\n\t\trenderer.domElement.style.position = 'absolute';\n\t\trenderer.domElement.style.left = '0px';\n\t\td.appendChild( renderer.domElement );\n\n\t\tscene = new THREE.Scene();\n\n\t\tcamera = new THREE.PerspectiveCamera( 40, 640 / 320, 1, 10000 );\n\t\tcamera.position.set( 50, 50, 50);\n\n\t\tcontrols = new THREE.TrackballControls( camera, renderer.domElement );\n\n\t\tvar map = THREE.ImageUtils.loadTexture('http://1.bp.blogspot.com/-N3gWY-XID30/UH3Br0HJ_zI/AAAAAAAAFe8/lWDdDiaQHRY/s1600/cynthia-draw-lightning.jpg');\n\t\tmaterial = new THREE.MeshBasicMaterial({map: map});\n\t\tmeshes = new THREE.Object3D();\n\t\tfor ( var i = 0; i < 20; i++) {\n\t\t\tgeometry = new THREE.CubeGeometry( 5, 5, 5 );\n\t\t\tmesh = new THREE.Mesh( geometry, material );\n\t\t\tmesh.position.set( Math.random() * 40 - 20, Math.random() * 40, Math.random() * 40 - 20 );\n\t\t\tmesh.rotation.set( Math.random() * 1.5807, Math.random() * 1.5807, Math.random() * 1.5807 );\n\t\t\tmeshes.add( mesh );  \n\t\t}\n\t\tscene.add( meshes );\n\n\t\tstats = new Stats();\n\t\tstats.domElement.style.position = 'absolute';\n\t\tstats.domElement.style.top = '0px';\n\t\tstats.domElement.style.zIndex = 100;\n\t\td.appendChild( stats.domElement );\n\n\t\tvar callback = function() {\n\t\t\tvar tim = clock.getElapsedTime() * 0.15;\n\t\t\tmeshes.position.x = 50 * Math.cos( tim  );\n\t\t\tmeshes.position.y = 50 * Math.cos( tim  );\n\t\t\tmeshes.position.z = 50 * Math.sin( tim );\n\t\t\tmeshes.rotation.x += 0.02;\n\t\t};\n\n\t\trenderers.push( {renderer: renderer, scene: scene, camera: camera, controls: controls, stats: stats, callback: callback} );\n\t}\n</script>\n</body>\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":3416}]],"length":3416}
